---
import "../global.css";

const {prev = "/", next = "/"} = Astro.props;

const message = 'lel';
---

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
    <meta name="generator" content={Astro.generator}/>
    <title>Astro Workshop</title>
</head>
<body class="bg-gradient-to-br from-black via-80% via-purple-950 to-fuchsia-900
text-white flex items-center justify-center h-screen
border-fuchsia-700 border-20 rounded-3xl shadow-2xl
"
>
<main class="w-full max-w-4xl p-8 transition-fade">
    <slot/>
</main>

<div class="absolute bottom-20 left-20">
    <a href={prev} data-fade id="prev" class="btn cursor-pointer">←</a>
</div>
<div class="absolute bottom-20 right-20">
    <a href={next} data-fade id="next" class="btn cursor-pointer">→</a>
</div>

<script>
  function navigateWithFade(url) {
    document.body.classList.add("fade-out");
    setTimeout(() => {
      window.location.href = url;
    }, 300); // Dauer der CSS-Animation
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("a[data-fade]").forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();
        const url = link.getAttribute("href");
        navigateWithFade(url);
      });
    });

    // Tastennavigation
    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") {
        navigateWithFade(document.querySelector("#next").getAttribute("href"));
      } else if (e.key === "ArrowLeft") {
        navigateWithFade(document.querySelector("#prev").getAttribute("href"));
      }
    });
  });
</script>
</body>
</html>
